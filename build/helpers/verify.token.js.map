{"version":3,"sources":["../../src/helpers/verify.token.js"],"names":["verifyTokens","Model","token","decodedToken","jwt","verify","process","env","JWTKEY","email","payload","model","select","user"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;IAEMA,Y;;;;;;;WACF,iBAAe;AACX,aAAO,IAAIC,mBAAJ,CAAU,OAAV,CAAP;AACD;;;;;iCAHDD,Y;2FAIqB,iBAAOE,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEnBA,KAAK,KAAK,EAFS;AAAA;AAAA;AAAA;;AAGfC,YAAAA,YAHe,GAGAC,yBAAIC,MAAJ,CAAWH,KAAX,EAAkBI,OAAO,CAACC,GAAR,CAAYC,MAA9B,CAHA;AAIfC,YAAAA,KAJe,GAIPN,YAAY,CAACO,OAAb,CAAqBD,KAJd;AAAA;AAAA,mBAJrBT,YASmB,CAAKW,KAAL,GAAaC,MAAb,CAAoB,GAApB,EAAyB,UAAzB,EAAqC,CAACH,KAAD,CAArC,CALE;;AAAA;AAKfI,YAAAA,IALe;AAAA,6CAMhBA,IAAI,CAAC,CAAD,CANY;;AAAA;AAAA,6CAQjB,IARiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;;;eAWZb,Y","sourcesContent":["import jwt from 'jsonwebtoken';\nimport Model from \"../database/models/queries\";\n\nclass verifyTokens {\n    static model() {\n        return new Model(\"users\"); \n      }\n  static verifyAllTokens = async (token) => {\n    \n    if (token !== '') {\n      const decodedToken = jwt.verify(token, process.env.JWTKEY);\n      const email = decodedToken.payload.email;\n      const user = await this.model().select(\"*\", \"email=$1\", [email]);\n    return user[0]\n  \t}\n  \treturn null;\n  };\n}\nexport default verifyTokens;\n"],"file":"verify.token.js"}